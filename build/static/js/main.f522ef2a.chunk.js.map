{"version":3,"sources":["images/logo.png","layout/Dashboard/DashboardLayout.js","config.js","services/ajax.js","services/checkRedirect.js","components/Comment/index.js","components/Form/subscribe.js","pages/Dashboard/DashboardPage.js","pages/Login/LoginPage.js","components/Error/index.js","pages/Login/LoginComplete.js","pages/PageNotFound/index.js","index.js"],"names":["module","exports","Footer","DashboardLayout","className","this","props","children","type","href","block","target","React","Component","path","dashboard","login","auth","BASE_URL","color","DEV_MODE","SOCKET_PORT","config","initialToken","localStorage","getItem","axios","defaults","headers","common","checkToken","Promise","resolve","reject","get","then","response","data","success","setItem","token","apiGet","params","cb","err","status","error","catch","message","warning","logout","setTimeout","window","location","reload","apiPost","post","removeItem","subscribe","unsubscribe","redirectDashboardOrSetup","pathname","JSON","parse","history","push","home","pushState","search","SocketIOClient","require","Comments","handleData","mess","code","setState","comments","state","socket","transports","reconnection","upgrade","user","on","console","log","emit","sub","map","comment","author","authorDetails","displayName","avatar","src","profileImageUrl","alt","content","snippet","displayMessage","datetime","title","moment","publishedAt","format","fromNow","layout","Option","labelCol","span","wrapperCol","tailLayout","offset","SubscribeForm","utl","keywords","subscribed","handleSubscribe","ev","preventDefault","confirmLoading","record","form","validateFieldsAndScroll","values","url","customUrl","join","visible","resetFields","addEventListener","getFieldDecorator","name","onSubmit","Item","label","rules","required","mode","placeholder","htmlType","keyword","onClick","style","margin","Comment","Subscribe","create","DashboardPage","LoginPage","logo","bordered","size","shape","ErrorComponent","subTitle","extra","LoginComplete","loggingIn","qs","query","ignoreQueryPrefix","googleLogin","stringify","jwt","Error","PageNotFound","PrivateRoute","component","rest","loginToken","render","to","App","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f522ef2a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.4e2b85f3.png\";","import React from 'react';\nimport { Icon, Layout, Button } from 'antd';\n\nconst { Footer } = Layout;\n\nclass DashboardLayout extends  React.Component{\n\n  render() {\n    return (\n      <main>\n        <div className={'main-bar'}>\n          {this.props.children}\n        </div>\n\n        <Footer>\n          Developed by\n          <Button type=\"link\" href=\"\" block target=\"_blank\">\n            Shubham\n          </Button>\n        </Footer>\n      </main>\n    )\n  }\n}\n\nexport default DashboardLayout;\n","export const path = {\n  dashboard: '/',\n  login: '/login',\n  auth: '/auth/:provider/callback',\n};\n\n// export const basename = '/';\n//\nexport const BASE_URL = process.env.NODE_ENV === 'production'\n  ? 'http://localhost:1337'\n  : process.env.NODE_ENV === 'staging' ? 'http://localhost:1337' : 'http://localhost:1337';\n\nexport const APP_URL = process.env.NODE_ENV === 'production'\n  ? 'http://localhost:3000'\n  : process.env.NODE_ENV === 'staging' ? 'http://localhost:3000' : 'http://localhost:3000';\nexport const SOCKET_PORT = process.env.NODE_ENV === 'production'\n  ? 1342\n  : process.env.NODE_ENV === 'staging' ? 1342 : 1342;\n  \n\n\nexport const color = {\n  // primary: '#ffaa00',\n  // accent: '#000000',\n  // success: '#53D769',\n  // danger: '#fC3D39',\n  // disabled: '#cfcfcf'\n};\n\nexport const DEV_MODE = true;\n\nexport default { BASE_URL, path, color, DEV_MODE, SOCKET_PORT };\n","import axios from 'axios';\nimport React from \"react\";\nimport { message } from \"antd\";\nimport config from \"./../config\";\nimport {getLocation} from \"less/lib/less/utils\";\n\nconst { BASE_URL } = config;\n\nlet tokenInProgress = false;\n// * GET, POST, DELETE, UPDATE\nconst initialToken = localStorage.getItem(\"token\");\nif (initialToken) {\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${initialToken}`;\n}\n\nconst checkToken = new Promise((resolve, reject) => {\n  if (localStorage.getItem(\"access_token\")) {\n    axios.defaults.headers.common[\n        \"Authorization\"\n        ] = `Bearer ${localStorage.getItem(\"access_token\")}`;\n    resolve(true);\n  } else {\n    axios.get(`${BASE_URL}/`).then(response => {\n      const { data } = response;\n      if (response.data.success) {\n        localStorage.setItem(\"access_token\", data.data.token);\n        axios.defaults.headers.common[\n            \"Authorization\"\n            ] = `Bearer ${localStorage.getItem(\"access_token\")}`;\n      }\n      resolve(true);\n    });\n  }\n});\n\nconst apiGet = ({ path, params, headers, cb, err }) => {\n  checkToken.then(() => {\n    axios\n        .get(`${BASE_URL}${path}`, { params })\n        .then(response => {\n          if (response.status === 200 && cb) {\n            cb(response)\n          } else {\n            if (err) {\n              err(response.error);\n            }\n          }\n        })\n        .catch(function (error) {\n          if (\n              config.DEV_MODE ||\n              (error && error.response && error.response.status === 404)\n          ) {\n            if (err) {\n              err(error.response);\n            }\n            message.error(\"Connection Error!\");\n            return;\n          }\n          if (error && error.response && error.response.status === 401) {\n            message.warning(\n                \"Unauthorised request! You will be logged out.\"\n            );\n            logout(() => {\n              setTimeout(() => {\n                window.location.reload(true);\n              }, 300);\n            });\n            return;\n          }\n          message.warning(\"Something went wrong!!\");\n        });\n  });\n};\n\nconst apiPost = ({ path, params, headers, cb, err }) => {\n  checkToken.then(() => {\n    axios\n        .post(`${BASE_URL}${path}`, params)\n        .then(function (response) {\n          \n          if (\n              (response.status === 200 || response.status === 201) &&\n              cb\n          ) {\n            cb(response.data);\n          } else {\n            err(response);\n          }\n        })\n        .catch(function (error) {\n\n          if (error && error.response && error.response.status === 401) {\n            message.warning(\n                \"Unauthorised request! You will be logged out.\"\n            );\n            logout(() => {\n              setTimeout(() => {\n                window.location.reload(true);\n              }, 300);\n            });\n            return;\n          }\n          if (config.DEV_MODE || error.response.status === 404) {\n            if (err) {\n              err(error.response);\n              return;\n            }\n            message.warning(\"Something went wrong!!\");\n            logout(() => {\n              setTimeout(() => {\n                window.location.reload(true);\n              }, 300);\n            });\n            return;\n          }\n          message.warning(\"Something went wrong!!\");\n        });\n  });\n};\n\nexport const login = (params, cb, err) => {\n  apiGet({\n    path: \"/auth/google\",\n    params,\n    cb,\n    err\n  });\n};\n\nexport const googleLogin = (query, params, cb, err) => {\n  apiGet({\n    path: `/auth/google/callback?${query}`,\n    params,\n    cb,\n    err\n  });\n};\n\nexport const logout = cb => {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"user\");\n  cb({ status: 200, message: \"Logged Out!\" });\n};\n\nexport const subscribe = (params, cb, err) => {\n  apiPost({\n    path: \"/subscribe\",\n    params,\n    cb,\n    err\n  });\n};\n\nexport const unsubscribe = (params, cb, err) => {\n  apiPost({\n    path: \"/unsubscribe\",\n    params,\n    cb,\n    err\n  });\n};","import {path} from \"../config\";\nimport {googleLogin} from \"./ajax\";\n\nconst googleAuth = '/auth/google/callback';\n\nexport default (props) => {\n    let currentPath = props.location.pathname;\n    if (currentPath === path.login) {        \n        redirectDashboardOrSetup(props);\n    }\n};\n\nconst redirectDashboardOrSetup = (props) => {\n    if (window.location.pathname === googleAuth) {\n        window.history.pushState({},'Home','/#/auth/google/callback' + window.location.search);\n        return;\n    } else {\n        let user = JSON.parse(localStorage.getItem('user'));\n        if (user) {\n            props.history.push(path.home);\n            window.history.pushState({},'Home','/');\n        }\n    }\n};","import React from 'react';\nimport {Button, message, Divider, Timeline, Comment, Avatar, Tooltip} from 'antd'\nimport DashboardLayout from \"../../layout/Dashboard/DashboardLayout\";\n// import {deployProject, getProjects} from \"../../services/ajax\";\nimport {APP_URL, BASE_URL, SOCKET_PORT} from \"../../config\";\n\nimport moment from 'moment';\n\nlet token = localStorage.getItem('token');\nconst SocketIOClient = require('socket.io-client');\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nclass Comments extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      comments: []\n    };\n    // this.socket = SocketIOClient(`${BASE_URL}:${SOCKET_PORT}`, {\n    this.socket = SocketIOClient(`http://127.0.0.1:1342`, {\n      transports: ['websocket'],\n      reconnection: true,\n      upgrade: false,\n    });\n  }\n\n  componentDidMount() {\n    let user = JSON.parse(localStorage.getItem('user'));\n    this.socket.on('connect', () => {\n      console.log('Connected!');\n    }); \n    this.socket.emit('join', {sub: user.sub});\n    this.socket.on('message', this.handleData);\n  }\n  componentWillUnmount() {\n    // this.socket.removeListener('message', this.handleData);\n  }\n\n  handleData = (mess) => {\n    if(mess.code === 'message') {\n      this.setState({\n        comments: [...this.state.comments, mess.message],\n      })\n    } else {\n      message.error(mess.message)\n    }\n  };\n\n  render() {\n    const { comments } = this.state;\n    return (\n        <>\n          {\n            comments && comments.map(comment => (\n              <Comment\n                author={<a>{comment.authorDetails.displayName}</a>}\n                avatar={\n                  <Avatar\n                    src={comment.authorDetails.profileImageUrl}\n                    alt={comment.authorDetails.displayName}\n                  />\n                }\n                content={\n                  <p>\n                   {comment.snippet.displayMessage}\n                  </p>\n                }\n                datetime={\n                  <Tooltip title={moment(comment.snippet.publishedAt).format('YYYY-MM-DD HH:mm:ss')}>\n                    <span>{moment().fromNow()}</span>\n                  </Tooltip>\n                }\n              />\n            ))\n          }\n        </>\n\n    );\n  }\n\n}\nexport default Comments;\n","import React from 'react';\nimport { Form, Select, Input, Button, message, Card, Tag } from 'antd';\nimport {subscribe, unsubscribe } from \"../../services/ajax\";\nimport Comments from '../Comment';\n\nconst { Option } = Select;\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 8, span: 16 },\n};\n\nclass SubscribeForm extends React.Component {\n  state = {\n      utl: '',\n      keywords: [],\n      subscribed: false\n  }\n  \n  handleSubscribe = (ev) => {\n    ev.preventDefault();\n    this.setState({\n      confirmLoading: true,\n      record: null\n    });\n\n    let user = JSON.parse(localStorage.getItem('admin'));\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      let { url , keywords } = values;  \n      const customUrl = `${url}&keywords=${keywords.join()}`;\n      if (!err) {\n        subscribe(\n          {url: customUrl},\n          response => {\n            this.setState({\n                visible: false,\n                confirmLoading: false,\n                subscribed: true,\n                url,\n                keywords\n            });\n            message.success(\"Subscribed!\");\n          },\n          error => {\n            message.error(\"Error while subscribing\");\n            this.props.form.resetFields();\n            this.setState({\n              visible: false,\n              confirmLoading: false\n            });\n          }\n        );\n      } else {\n        this.setState({\n          confirmLoading: false\n        });\n      }\n    });\n  };\n\n  unsubscribe = () => {\n    unsubscribe({}, () => {}, () => {});\n    this.setState({\n        subscribed: false,\n        url: '',\n        keywords: ''\n    });\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n    window.addEventListener('beforeunload', unsubscribe);\n  }\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const { url, keywords, subscribed } = this.state;\n    return (\n        <>\n            {\n                !subscribed && (\n                    <Form\n                        {...layout}\n                        name=\"basic\"\n                        onSubmit={this.handleSubscribe}\n                    >\n                    <Form.Item\n                        label=\"URL\"\n                    >\n                        {getFieldDecorator(\"url\", {\n                        rules: [{ required: true, message: 'Please input livestream URL!' }]\n                    })(<Input />)}\n                    </Form.Item>\n                    <Form.Item\n                        label=\"Add Keywords\"\n                    >\n                        {getFieldDecorator(\"keywords\", {\n                            rules: [{ required: true, message: 'Kewords are required!' }]\n                        })(\n                            <Select mode=\"tags\" placeholder=\"add keywords\">\n                                \n                            </Select>\n                        )}\n                        \n                    </Form.Item>\n                    <Form.Item {...tailLayout}>\n                        <Button type=\"primary\" htmlType=\"submit\">\n                            Subscribe\n                        </Button>\n                    </Form.Item>\n                </Form>\n                )\n            }\n            {\n                subscribed && (\n                    <Card>\n                        <p><b>URL</b> : {url}</p>\n                        <p>keywords</p>\n                        {\n                            keywords.map(keyword => (\n                                <Tag>{keyword}</Tag>\n                            ))\n                        }\n\n                        <Button type=\"primary\" onClick={this.unsubscribe} style={{margin: 10}}>\n                            Unsubscribe\n                        </Button>\n                        <Comments />\n\n                    </Card>\n                )\n            }\n        </>\n    );\n  }\n\n}\n\n\nconst Subscribe = Form.create({ name: \"subscribe\" })(\n    SubscribeForm\n);\nexport default Subscribe;\n","import React from 'react';\nimport {Link } from 'react-router-dom';\nimport logo from '../../images/logo.png';\nimport {Card, Row, Col, Select, Table, Drawer, Button, message, Divider, Input} from 'antd'\n\nimport DashboardLayout from \"../../layout/Dashboard/DashboardLayout\";\n// import {getProjects} from \"../../services/ajax\";\nimport checkRedirect from \"../../services/checkRedirect\";\nimport Subscribe from '../../components/Form/subscribe';\n// import styles from './DashboardStyles.scss'\n\nclass DashboardPage extends React.Component {\n  state = {\n    subscribed: false,\n    url: '',\n    keywords: [],\n  }\n\n  componentWillMount() {\n    \n  }\n\n  render() {\n    const {subscribed} = this.state;\n    return (\n        <DashboardLayout {...this.props}>\n            {\n              !subscribed && (\n                <Card>\n                  <Subscribe/>\n                </Card>\n              )\n            }\n        </DashboardLayout>\n\n    );\n  }\n\n}\nexport default DashboardPage;\n","import React from 'react';\nimport {Card, Button, Layout, Space } from 'antd';\nimport logo from '../../images/logo.png';\n\nimport  { BASE_URL } from './../../config';\nimport checkRedirect from \"../../services/checkRedirect\";\n// import { GoogleOutlined, HomeOutlined } from '@ant-design/icons';\n\nconst { Footer } = Layout;\n\nclass LoginPage extends React.Component{\n  componentWillMount() {\n    checkRedirect(this.props);\n  }\n\n  render() {\n    return (\n      <main className={'auth'}>\n\n        <div className={'logo'}>\n          <img src={logo} alt={'logo'}/>\n        </div>\n\n\n          <div className={'login'}>\n          <Card bordered={false}>\n            <div className={'title'}>Quillbot</div>\n            <p className={'sub-title'}>Please log in using google to continue!</p>\n              <a href={`${BASE_URL}/auth/google`}>\n                {/* <Button block type={'primary'} size={'large'} shape={'round'} icon={<GoogleOutlined />}> */}\n                <Button block type={'primary'} size={'large'} shape={'round'}>\n                  Continue with Google\n                </Button>\n              </a>\n            \n          </Card>\n        </div>\n\n        <Footer>\n          Developed by\n          <Button type=\"link\" href=\"\" block target=\"_blank\">\n            Shubham\n          </Button>\n        </Footer>\n\n      </main>\n    )\n  }\n}\n\nexport default LoginPage;\n","import React from 'react';\nimport { Button, Result } from 'antd';\n\nclass ErrorComponent extends React.Component{\n    constructor(props) {\n        super(props);\n    }\n    \n  render() {\n    return (\n        <Result\n            status=\"500\"\n            title=\"500\"\n            subTitle=\"Sorry, something went wrong.\"\n            extra={<Button type=\"primary\" onClick={() => this.props.history.push}>Back Home</Button>}\n        />\n    )\n  }\n}\n\nexport default ErrorComponent;\n","import React from 'react';\nimport {Layout, Spin } from 'antd';\n\nimport  { path } from '../../config';\nimport { googleLogin } from '../../services/ajax';\nimport ErrorComponent from '../../components/Error'\n\nclass LoginComplete extends React.Component{\n  state = {\n    error: false,\n    loggingIn: false\n  }\n  componentWillMount() {\n    console.log('here');\n    \n    const qs = require('qs');\n    const query = qs.parse(this.props.location.search, { ignoreQueryPrefix: true });\n    console.log(query);\n    \n    this.setState({\n      loggingIn: true\n    })\n    \n    googleLogin(\n      qs.stringify(query),\n      {},\n      (response) => {\n          const { jwt, user } = response.data.data;\n          localStorage.setItem('token', jwt);\n          localStorage.setItem('user', JSON.stringify(user));\n          this.props.history.push(path.home);\n          window.history.pushState({},'Home','/');\n          this.setState({\n            loggingIn: false\n          })\n          window.location.reload(true);\n      }, (err) => {\n        this.setState({\n          error: true\n        })\n      }\n    )\n  }\n\n  render() {\n    const {error, loggingIn} = this.state;\n    return (\n      <>\n        {\n          loggingIn && <Spin/>\n        }\n        {\n          error && <ErrorComponent />\n        }\n      </>\n    )\n  }\n}\n\nexport default LoginComplete;\n","import React from 'react';\nimport { Button, Result } from 'antd';\nimport DashboardLayout from '../../layout/Dashboard/DashboardLayout';\nclass PageNotFound extends React.Component{\n  render() {\n    return (\n      <DashboardLayout {...this.props}>\n        <Result\n          status=\"404\"\n          title=\"404\"\n          subTitle=\"Sorry, the page you visited does not exist.\"\n          extra={<Button type=\"primary\" onClick={() => this.props.history.push('/')}>Back Home</Button>}\n        />\n      </DashboardLayout>\n    )\n  }\n}\n\nexport default PageNotFound;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {HashRouter, Redirect, Route, Switch} from 'react-router-dom';\nimport './index.scss';\nimport DashboardPage from './pages/Dashboard/DashboardPage';\nimport LoginPage from './pages/Login/LoginPage';\nimport LoginComplete from './pages/Login/LoginComplete';\nimport PageNotFound from './pages/PageNotFound';\nimport { path } from './config';\n\nconst PrivateRoute = ({component: Component, ...rest}) => {\n  const loginToken = localStorage.getItem('token');\n  return (\n    <Route\n      {...rest}\n      render={ props => (\n        loginToken ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to={path.login}/>\n        )\n      )\n      }\n    />\n  );\n};\n\nconst App = () => (\n  <HashRouter>\n    <Switch>\n      <Route exact path={path.auth} component={LoginComplete}/>\n      <PrivateRoute exact path={path.dashboard} component={DashboardPage}/>\n      <Route exact path={path.login} component={LoginPage}/>\n      <Route path='*' exact component={PageNotFound} />\n    </Switch>\n  </HashRouter>\n\n);\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}